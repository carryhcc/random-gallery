/* 变量定义 - 统一管理可复用值 */
:root {
    --primary-color: #00aaff;
    --success-color: #27ae60;
    --error-color: #e74c3c;
    --glow-color: rgba(0, 170, 255, 0.7);
    --active-glow-color: rgba(0, 170, 255, 0.9);
    --bg-primary: #1a1a2e;
    --text-primary: #e0e0e0;
    --text-secondary: #fff;
    --border-light: rgba(255, 255, 255, 0.1);
    --border-medium: rgba(255, 255, 255, 0.2);
    --bg-glass-light: rgba(255, 255, 255, 0.1);
    --bg-glass-medium: rgba(255, 255, 255, 0.15);
    --bg-glass-dark: rgba(40, 40, 70, 0.8);
    --shadow-light: 0 4px 20px rgba(0,0,0,0.3);
    --shadow-medium: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

/* Tailwind 配置和基础样式 */
@config 'tailwind.config.js';
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    * {
        @apply m-0 p-0 box-border;
    }

    body {
        @apply font-[Poppins,'Segoe UI',Tahoma,Geneva,Verdana,sans-serif] bg-[var(--bg-primary)] text-[var(--text-primary)];
        min-height: 100vh;
    }
}

/* 组件样式 */
@layer components {
    /* 按钮基础样式 */
    .btn-glow {
        @apply justify-center text-center font-medium py-2 px-4 rounded-full transition-all duration-300 flex items-center shadow-md hover:shadow-lg transform hover:scale-105;
    }

    .btn-glow-primary {
        @apply btn-glow bg-[var(--bg-glass-light)] text-[var(--text-secondary)] border border-[var(--border-medium)];
        padding: 0 3px;
    }

    .btn-glow-reset {
        @apply btn-glow bg-gray-500/10 text-gray-400 border border-gray-500/20;
        padding: 0 3px;
    }

    .btn-glow-operation {
        @apply btn-glow text-xs px-2 py-1 text-[#10b981];
    }

    /* 玻璃态容器 */
    .glass-container {
        @apply bg-[var(--bg-glass-medium)] backdrop-blur-[20px] border border-[var(--border-medium)] rounded-[20px] shadow-[var(--shadow-medium)] p-[40px] text-center animate-[fadeInUp_1s_ease-out];
    }

    /* 图片容器 */
    .img-container {
        @apply relative rounded-xl overflow-hidden transition-all duration-300 ease-in-out bg-[rgba(255,255,255,0.05)] border border-[var(--border-light)] shadow-[var(--shadow-medium)] opacity-0 transform translate-y-[20px];
    }
}

/* 工具类样式 */
@layer utilities {
    .content-auto {
        content-visibility: auto;
    }

    .image-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 1.5rem;
        grid-auto-flow: dense;
    }

    @media (min-width: 768px) {
        .image-grid {
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        }
    }

    .fade-in {
        animation: fadeIn 0.5s ease-in-out;
    }
}

/* --- 动态极光背景 (整合重复定义) --- */
.aurora-background {
    @apply fixed top-0 left-0 w-full h-full z-[-1] overflow-hidden;
}

.aurora-background::before,
.aurora-background::after {
    content: '';
    @apply absolute w-[800px] h-[800px] rounded-full filter blur-[150px] opacity-40 mix-blend-screen;
}

.aurora-background::before {
    background: radial-gradient(circle, #ff3cac, #784ba0, #2b86c5);
    @apply top-[-25%] left-[-25%] animate-[move-aurora-1_25s_infinite_alternate_ease-in-out];
}

.aurora-background::after {
    background: radial-gradient(circle, #f7b733, #fc4a1a);
    @apply bottom-[-25%] right-[-25%] animate-[move-aurora-2_25s_infinite_alternate_ease-in-out];
}

@keyframes move-aurora-1 {
    0% { transform: translate(0, 0) rotate(0deg); }
    100% { transform: translate(100px, 200px) rotate(180deg); }
}

@keyframes move-aurora-2 {
    0% { transform: translate(0, 0) rotate(0deg); }
    100% { transform: translate(-150px, -100px) rotate(-180deg); }
}

@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(50px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* --- 首页样式 --- */
.container {
    @apply glass-container w-[90%] max-w-[500px];
}

h1 {
    @apply text-[2.5em] font-semibold text-[var(--text-secondary)] mb-[30px] text-shadow-[0_0_10px_rgba(255,255,255,0.3)];
}

.button-group {
    @apply flex flex-col gap-[20px];
}

.btn {
    @apply py-[15px] px-[25px] text-[1.1em] font-normal border border-[var(--border-medium)] rounded-[12px] cursor-pointer transition-all duration-300 text-[var(--text-secondary)] bg-[var(--bg-glass-medium)] backdrop-blur-[10px] text-decoration-none block w-full;
}

.btn:not(:disabled):hover {
    @apply bg-[rgba(255,255,255,0.25)] transform -translate-y-[5px] shadow-[0_0_20px_var(--glow-color),0_0_30px_var(--glow-color)];
}

.btn:active {
    @apply transform -translate-y-[2px] scale-[0.98] shadow-[0_0_10px_var(--glow-color)];
}

.env-buttons {
    @apply flex justify-center gap-[15px] flex-wrap;
}

.env-buttons .btn {
    @apply bg-[rgba(0,0,0,0.2)] border-[var(--border-medium)];
}

.env-buttons .btn.active {
    @apply bg-[var(--primary-color)] text-[var(--bg-primary)] font-semibold shadow-[0_0_20px_var(--active-glow-color)] border-[var(--primary-color)];
}

.btn:disabled, .btn.active {
    @apply cursor-not-allowed transform-none;
}

.btn.active:hover {
    @apply shadow-[0_0_20px_var(--active-glow-color)];
}

/* 提示框样式 */
#toast {
    @apply invisible min-w-[280px] text-[var(--text-secondary)] text-center rounded-[12px] p-[16px] fixed z-[100] left-[50%] -translate-x-[50%] top-[-100px] text-[1em] transition-all duration-500 ease-in-out opacity-0 border border-[var(--border-medium)] shadow-[var(--shadow-light)] backdrop-blur-[10px];
}

#toast.success {
    @apply bg-[rgba(39,174,96,0.7)];
}

#toast.error {
    @apply bg-[rgba(192,57,43,0.7)];
}

#toast.show {
    @apply visible top-[30px] opacity-1;
}

/* 下拉菜单样式 */
.env-switcher {
    @apply fixed top-[20px] left-[20px] z-[50];
}

.dropdown {
    @apply relative w-[200px];
}

.dropdown-toggle {
    @apply flex justify-between items-center py-[12px] px-[20px] text-[1em] font-normal border border-[var(--border-medium)] rounded-[12px] cursor-pointer transition-all duration-300 text-[var(--text-secondary)] bg-[var(--bg-glass-medium)] backdrop-blur-[10px] w-full;
}

.dropdown-toggle:hover {
    @apply bg-[rgba(255,255,255,0.25)] transform -translate-y-[2px] shadow-[0_0_15px_var(--glow-color)];
}

.dropdown-arrow {
    @apply w-[16px] h-[16px] transition-transform duration-300 ease;
}

.dropdown.open .dropdown-arrow {
    @apply rotate-[180deg];
}

.dropdown-menu {
    @apply absolute top-[calc(100%+10px)] left-0 w-full bg-[var(--bg-glass-dark)] backdrop-blur-[15px] border border-[var(--border-medium)] rounded-[12px] p-[10px] z-[10] overflow-hidden opacity-0 invisible -translate-y-[10px] transition-all duration-300 ease;
}

.dropdown.open .dropdown-menu {
    @apply opacity-1 visible translate-y-0;
}

.dropdown-menu a {
    @apply block py-[12px] px-[20px] text-[var(--text-primary)] text-decoration-none rounded-[8px] transition-colors duration-200 ease text-[1em];
}

.dropdown-menu a:hover {
    @apply bg-[rgba(255,255,255,0.1)] text-[var(--text-secondary)];
}

.dropdown-menu a.active {
    @apply bg-[var(--primary-color)] text-[var(--bg-primary)] font-semibold pointer-events-none;
}

/* --- 表格样式 --- */
#results-table {
    @apply w-full border-collapse mt-[6px] text-sm text-gray-300 rounded-lg overflow-hidden mx-auto border border-[var(--border-light)];
}

#results-table th, #results-table td {
    @apply p-[4px] text-center border border-[var(--border-light)];
}

#results-table thead th {
    @apply bg-white/5 font-semibold text-gray-200;
}

#results-table tbody tr {
    @apply border-t border-[var(--border-light)];
}

#results-table tbody tr:hover {
    @apply bg-white/5;
}

.table-container {
    @apply flex justify-center;
}

/* --- 分页控件样式 --- */
.pagination button {
    @apply btn-glow-primary py-1 px-3;
}

.pagination button.active {
    @apply bg-sky-500/50 border-sky-500;
}

.pagination button:disabled {
    @apply opacity-50 cursor-not-allowed transform-none shadow-none hover:bg-white/10;
}

/* --- 图片展示样式 --- */
.image-wrapper {
    @apply relative flex justify-center items-center overflow-hidden rounded-lg mx-auto mb-[6px] shadow-lg;
}

.single-image {
    @apply block max-w-full h-auto rounded-lg transform scale-100 transition-transform duration-500 ease-in-out;
}

.image-wrapper:hover .single-image {
    @apply scale-105;
}

/* 图片容器加载状态 */
.img-container.loaded {
    @apply opacity-1 translate-y-0;
}

.img-container:hover {
    @apply -translate-y-[5px] shadow-[0_0_20px_rgba(0,170,255,0.5)] border-[rgba(0,170,255,0.5)];
}

/* 下载按钮 */
.download-btn {
    @apply absolute bottom-[3px] right-[3px] bg-black/50 text-white rounded-full w-[10px] h-[10px] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out transform hover:scale-110;
}

.download-btn:hover {
    @apply shadow-[0_0_10px_rgba(0,170,255,0.7)];
}

/* 导航按钮 */
.nav-btn {
    @apply absolute top-[50%] -translate-y-[50%] bg-black/30 text-white rounded-full w-[12px] h-[12px] flex items-center justify-center cursor-pointer transition-all duration-300 ease-in-out z-[10] text-xl backdrop-blur-sm;
}

.nav-btn:hover {
    @apply bg-black/60 transform -translate-y-[50%] scale-[1.05] shadow-[0_0_15px_rgba(0,170,255,0.7)];
}

/* 玻璃态头部 */
.glass-header {
    @apply fixed top-0 left-0 right-0 z-[40] bg-black/20 backdrop-blur-lg border-b border-[var(--border-light)] transition-all duration-300 py-[3px] md:py-[4px];
}

/* 返回首页按钮 */
.back-to-home-btn {
    @apply fixed top-[1rem] left-[1rem] z-[1000];
}

/* 按钮悬停效果 */
.btn-glow-primary:hover {
    @apply shadow-[0_0_15px_rgba(0,170,255,0.6),0_0_20px_rgba(0,170,255,0.4)] rounded-[5px];
}

.btn-glow-reset:hover {
    @apply bg-[rgba(100,116,139,0.2)] shadow-[0_0_15px_rgba(100,116,139,0.6),0_0_20px_rgba(100,116,139,0.4)] rounded-[5px];
}

.btn-glow-operation:hover {
    @apply shadow-[0_0_15px_rgba(16,185,129,0.2),0_0_20px_rgba(16,185,129,0.2)] rounded-[5px] p-0 px-[5px];
}

/* 响应式调整 */
@media (max-width: 600px) {
    .container {
        @apply p-[30px_20px];
    }

    h1 {
        @apply text-[2em];
    }

    .btn {
        @apply py-[12px] px-[20px] text-[1em];
    }

    .env-buttons .btn {
        @apply flex-grow;
    }

    .env-switcher {
        @apply top-[15px] left-[15px];
    }

    .dropdown {
        @apply w-[160px];
    }

    .dropdown-toggle {
        @apply py-[10px] px-[15px] text-[0.9em];
    }
}
